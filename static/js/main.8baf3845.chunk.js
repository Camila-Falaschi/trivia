(this["webpackJsonptrivia-react-redux"]=this["webpackJsonptrivia-react-redux"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/couldBeBetter.30f7918f.gif"},29:function(e,t,a){e.exports=a.p+"static/media/logoLogin.bdd9b986.png"},30:function(e,t,a){e.exports=a.p+"static/media/logoheader.bdc31309.png"},32:function(e,t,a){e.exports=a.p+"static/media/feedback0.3c874ad3.gif"},33:function(e,t,a){e.exports=a.p+"static/media/win3.245d1cf8.gif"},34:function(e,t,a){e.exports=a.p+"static/media/win4.a9eba695.gif"},35:function(e,t,a){e.exports=a.p+"static/media/superWin.ddaf06bd.gif"},38:function(e,t,a){e.exports=a(62)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t){},53:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),i=a(7),s=a(14),l=a(6),u=a(13),m=a.n(u),p=a(16),d=a(17),f=a(2),b=a(3),v=a(5),y=a(4),g=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=a(22),h=function(e){return{type:"ADD_POINTS_SCORE",points:e}},O=function(e){return{type:"COUNT_ASSERTIONS",state:e}},S=(a(47),a(29)),j=a.n(S),k=(a(48),a(49),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={diff:"",category:"",type:""},e.onInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(d.a)({},r,n))},e.onButtonClick=function(){var t=e.props,a=t.setSettingsAction,n=t.closeSettings,r=e.state;a({diff:r.diff,category:r.category,type:r.type}),n()},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.diff,a=e.type,n=e.category;return r.a.createElement("div",{className:"settings-card"},r.a.createElement("h2",{"data-testid":"settings-title"},"Settings"),r.a.createElement("div",{className:"config-card"},r.a.createElement("label",{className:"input-category",htmlFor:"category"},"Category:"," ",r.a.createElement("select",{name:"category",value:n,id:"category",onChange:this.onInputChange},r.a.createElement("option",{value:"any"},"Any Category"),r.a.createElement("option",{value:"9"},"General Knowledge"),r.a.createElement("option",{value:"10"},"Entertainment: Books"),r.a.createElement("option",{value:"11"},"Entertainment: Film"),r.a.createElement("option",{value:"12"},"Entertainment: Music"),r.a.createElement("option",{value:"13"},"Entertainment: Musicals & Theatres"),r.a.createElement("option",{value:"14"},"Entertainment: Television"),r.a.createElement("option",{value:"15"},"Entertainment: Video Games"),r.a.createElement("option",{value:"16"},"Entertainment: Board Games"),r.a.createElement("option",{value:"17"},"Science & Nature"),r.a.createElement("option",{value:"18"},"Science: Computers"),r.a.createElement("option",{value:"19"},"Science: Mathematics"),r.a.createElement("option",{value:"20"},"Mythology"),r.a.createElement("option",{value:"21"},"Sports"),r.a.createElement("option",{value:"22"},"Geography"),r.a.createElement("option",{value:"23"},"History"),r.a.createElement("option",{value:"24"},"Politics"),r.a.createElement("option",{value:"25"},"Art"),r.a.createElement("option",{value:"26"},"Celebrities"),r.a.createElement("option",{value:"27"},"Animals"),r.a.createElement("option",{value:"28"},"Vehicles"),r.a.createElement("option",{value:"29"},"Entertainment: Comics"),r.a.createElement("option",{value:"30"},"Science: Gadgets"),r.a.createElement("option",{value:"31"},"Entertainment: Japanese Anime & Manga"),r.a.createElement("option",{value:"32"},"Entertainment: Cartoon & Animations"))),r.a.createElement("label",{className:"input-diff",htmlFor:"diff"},"Difficult:"," ",r.a.createElement("select",{id:"diff",name:"diff",value:t,onChange:this.onInputChange},r.a.createElement("option",{value:"any"},"Any Difficulty"),r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard"))),r.a.createElement("label",{className:"input-type",htmlFor:"type"},"Type:"," ",r.a.createElement("select",{name:"type",value:a,onChange:this.onInputChange},r.a.createElement("option",{value:"any"},"Any Type"),r.a.createElement("option",{value:"multiple"},"Multiple Choice"),r.a.createElement("option",{value:"boolean"},"True / False"))),r.a.createElement("button",{type:"button",onClick:this.onButtonClick,className:"button"},"Aply")))}}]),a}(r.a.Component)),N=Object(i.b)(null,(function(e){return{setSettingsAction:function(t){return e({type:"SET_SETTINGS",obj:t})}}}))(k),A=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",name:"",disabled:!0,settings:!1},e.validEmail=function(e){return/[a-z0-9.]+@[a-z0-9]+\.[a-z]/.test(e)},e.setOnChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(d.a)({},n,r),(function(){var t=e.state,a=t.email,n=t.name;e.validEmail(a)&&n.length>=1?e.setState({disabled:!1}):e.setState({disabled:!0})}))},e.toSettings=function(){e.setState({settings:!0})},e.closeSettings=function(){e.setState({settings:!1})},e.setOnclick=Object(p.a)(m.a.mark((function t(){var a,n,r,c,o,i,s,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.history,r=a.dispatchLogin,t.next=3,g();case 3:return c=t.sent,o=c.token,i=e.state,s=i.name,l=i.email,r({name:s,email:l}),t.next=9,localStorage.setItem("token",o);case 9:n.push("/game");case 10:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.disabled,c=e.settings;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:j.a,className:"App-logo",alt:"logo"}),r.a.createElement("form",{className:"form-login"},r.a.createElement("label",{className:"input-name",htmlFor:"name"},"Name:",r.a.createElement("input",{name:"name",value:t,"data-testid":"input-player-name",type:"text",id:"name",onChange:this.setOnChange})),r.a.createElement("label",{className:"input-email",htmlFor:"email"},"E-mail:",r.a.createElement("input",{name:"email",value:a,"data-testid":"input-gravatar-email",type:"email",id:"email",onChange:this.setOnChange})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"button-play","data-testid":"btn-play",type:"button",disabled:n,onClick:this.setOnclick},"Play"),r.a.createElement("button",{className:"button-settings","data-testid":"btn-settings",type:"button",onClick:this.toSettings},"Settings"))),c&&r.a.createElement(N,{closeSettings:this.closeSettings})))}}]),a}(r.a.Component),C=Object(i.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"USER_LOGIN",state:t})}}}))(A),w=(a(50),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={avaliable:!1,timer:30,time:function(){},difficultyPoints:[{level:"hard",value:3},{level:"medium",value:2},{level:"easy",value:1}]},e.startTimer=function(){e.setState((function(){return{time:setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),Number("1000"))}}))},e.stopTimer=function(){var t=e.state.time;t&&clearInterval(t),e.setState({avaliable:!0})},e.onHandleClick=function(t,a,n){var r=e.state,c=r.difficultyPoints,o=r.timer,i=r.assertions,s=e.props,l=s.dispatch,u=s.score,m=s.addAssertion,p=t===a,d=c.find((function(e){return e.level===n}));if(p){var f=u+(10+o*d.value);l(h(f)),l(O(i)),m()}e.stopTimer()},e.newQuestion=function(){var t=e.props.nextQuestion;e.setState({avaliable:!1,timer:30}),t(),e.startTimer()},e.handleClassName=function(t,a){return e.state.avaliable?t===a?"correct-answer":"wrong-answer":"button-answer"},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(e,t){1===t.timer&&this.stopTimer()}},{key:"render",value:function(){var e=this,t=this.props,a=t.randomArray,n=t.category,c=t.correctAnswer,o=t.question,i=t.difficulty,s=this.state,l=s.avaliable,u=s.timer;return r.a.createElement("div",{className:"question"},r.a.createElement("div",{className:"question-content"},r.a.createElement("div",{className:"header-question-card"},r.a.createElement("p",{className:"timer"},"Tempo:"," ",u),r.a.createElement("p",{className:"category","data-testid":"question-category"},n)),r.a.createElement("p",{className:"question-text","data-testid":"question-text"},o),r.a.createElement("div",{className:"answer-options","data-testid":"answer-options"},a.map((function(t,a){return r.a.createElement("button",{onClick:function(){e.onHandleClick(t,c,i)},disabled:!(!l&&0!==u),className:e.handleClassName(t,c),key:a,type:"button","data-testid":t===c?"correct-answer":"wrong-answer-".concat(a)},t)})),l&&r.a.createElement("button",{"data-testid":"btn-next",type:"button",className:"button-answer button-next",onClick:this.newQuestion},"Next"))))}}]),a}(r.a.Component));w.defaultProps={category:"",correctAnswer:"",question:"",difficulty:""};var I=Object(i.b)((function(e){return{score:e.player.score}}))(w),q=a(21),x=a.n(q),T=(a(53),a(30)),R=a.n(T),_=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.score,n=e.email,c=x()(n).toString();return r.a.createElement("header",{className:"header-game"},r.a.createElement("div",{className:"logo-header"},r.a.createElement("img",{src:R.a,className:"logo-2",alt:"Logo"})),r.a.createElement("h2",{className:"score-header","data-testid":"header-score"},"Pontos:"," ",a),r.a.createElement("div",{className:"perfil-header"},r.a.createElement("div",{className:"perfil-info"},r.a.createElement("img",{className:"img-header","data-testid":"header-profile-picture",src:"https://www.gravatar.com/avatar/".concat(c),alt:"Profile of: ".concat(t)}),r.a.createElement("h2",{className:"name-header","data-testid":"header-player-name"},t))))}}]),a}(r.a.Component),P=Object(i.b)((function(e){return{email:e.loginReducer.gravatarEmail,name:e.loginReducer.name,score:e.player.score}}))(_),D=(a(54),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentQuestion:0,assertions:0},e.componentDidMount=function(){var t=e.props,a=t.fetchAPI,n=t.type,r=t.category,c=t.diff,o="https://opentdb.com/api.php?amount=5".concat("any"!==c?"&difficulty=".concat(c):"").concat("any"!==r?"&category=".concat(r):"").concat("any"!==n?"&type=".concat(n):"","&token=").concat(localStorage.getItem("token"));a(o),console.log(o)},e.nextQuestion=function(){e.setState((function(e){return{currentQuestion:e.currentQuestion+1}}))},e.addAssertion=function(){e.setState((function(e){return{assertions:e.assertions+1}}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.requestState,a=e.questions,n=e.requestAPI,c=e.randomArray,o=this.state.currentQuestion,i=a[o];if(3===t)return r.a.createElement(l.a,{to:"/"});if(5===o){var s=this.props,u=s.name,m=s.email,p=s.score,d=s.addAssertionsAction,f=this.state.assertions;if(null===localStorage.getItem("ranking"))localStorage.setItem("ranking",JSON.stringify([{email:m,score:p,name:u}]));else{var b=JSON.parse(localStorage.getItem("ranking"));localStorage.setItem("ranking",JSON.stringify([].concat(Object(E.a)(b),[{email:m,score:p,name:u}])))}return d(f),r.a.createElement(l.a,{to:"/feedback"})}return r.a.createElement("div",{className:"game-content"},r.a.createElement(P,null),!n&&r.a.createElement(I,{category:i.category,question:i.question,randomArray:c[o],correctAnswer:i.correct_answer,incorrectAnswers:i.incorrect_answers,difficulty:i.difficulty,nextQuestion:this.nextQuestion,addAssertion:this.addAssertion}))}}]),a}(r.a.Component));D.defaultProps={requestState:0,questions:[],randomArray:[],diff:"any",category:"any",type:"any"};var Q=Object(i.b)((function(e){return{requestState:e.player.requestState,questions:e.player.questions,requestAPI:e.player.requestAPI,name:e.loginReducer.name,email:e.loginReducer.gravatarEmail,score:e.player.score,randomArray:e.player.randomArray,type:e.player.type,diff:e.player.diff,category:e.player.category}}),(function(e){return{fetchAPI:function(t){return e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_API"}),t.prev=1,t.next=4,fetch(e);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,console.log(r),a({type:"REQUEST_SUCSSES",questions:(c=r).results,requestState:c.response_code,randomArray:c.results.map((function(e){return[e.correct_answer].concat(Object(E.a)(e.incorrect_answers)).sort((function(){return Math.random()-.5}))}))}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:"REQUEST_ERROR",error:t.t0});case 15:case"end":return t.stop()}var c}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},addAssertionsAction:function(t){return e(function(e){return{type:"ADD_ASSERTIONS",assertions:e}}(t))}}}))(D),M=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).playAgain=function(){e.setState({redirect:!0})},e.state={redirect:!1},e}return Object(b.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(l.a,{to:"/"}):r.a.createElement("button",{className:"button-play-again",type:"button","data-testid":"btn-play-again",onClick:this.playAgain},"Play Again")}}]),a}(r.a.Component),U=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement("button",{className:"button-ranking",type:"button","data-testid":"btn-ranking",onClick:function(){return e.push("/ranking")}},"Ranking")}}]),a}(r.a.Component),G=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.score,a=e.assertions;return r.a.createElement("div",{className:"score"},r.a.createElement("p",null,"Placar final:"," ",r.a.createElement("span",{"data-testid":"feedback-total-score"},t)),r.a.createElement("p",null,"Acertos:"," ",r.a.createElement("span",{"data-testid":"feedback-total-question"},a)))}}]),a}(r.a.Component),F=Object(i.b)((function(e){return{score:e.player.score,assertions:e.player.assertions}}))(G),B=a(32),H=a.n(B),J=a(25),L=a.n(J),z=a(33),W=a.n(z),V=a(34),K=a.n(V),X=a(35),Y=a.n(X),Z=(a(60),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.assertions,a=e.history,n=t>=3?"Well Done!":"Could be better...",c=[H.a,L.a,L.a,W.a,K.a,Y.a];return console.log(c),console.log(t),r.a.createElement("div",{className:"feedback-content"},r.a.createElement(P,null),r.a.createElement("div",{className:"feedback-card"},r.a.createElement("h3",{className:"feedback-text","data-testid":"feedback-text"},n),r.a.createElement("img",{className:"feedback-image",src:c[t],alt:"Feedback"}),r.a.createElement(F,null),r.a.createElement("div",{className:"buttons"},r.a.createElement(M,null),r.a.createElement(U,{history:a}))))}}]),a}(r.a.Component)),$=Object(i.b)((function(e){return{assertions:e.loginReducer.assertions}}))(Z),ee=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).toHome=function(){e.setState({redirect:!0})},e.state={redirect:!1},e}return Object(b.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(l.a,{to:"/"}):r.a.createElement("button",{className:"button-home",type:"button","data-testid":"btn-go-home",onClick:this.toHome},"Home")}}]),a}(r.a.Component),te=(a(61),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ranking:[]},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({ranking:JSON.parse(localStorage.getItem("ranking"))})}},{key:"render",value:function(){var e=this.state.ranking;return r.a.createElement("div",{className:"ranking"},r.a.createElement("p",{className:"ranking-title","data-testid":"ranking-title"},"Ranking"),r.a.createElement("ol",{className:"ranking-list"},e.sort((function(e,t){return t.score-e.score})).map((function(e,t){return r.a.createElement("li",{className:"ranking-list-item",key:t},r.a.createElement("div",{className:"list-perfil"},r.a.createElement("img",{src:"https://www.gravatar.com/avatar/".concat(x()(e.email).toString()),alt:e.name}),r.a.createElement("p",{"data-testid":"player-name-".concat(t)},e.name)),r.a.createElement("p",{"data-testid":"player-score-".concat(t)}," ","Pontos:"," ",e.score))}))),r.a.createElement(ee,null))}}]),a}(r.a.Component));function ae(){return r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/trivia",component:C,exact:!0}),r.a.createElement(l.b,{path:"/settings",component:N}),r.a.createElement(l.b,{path:"/game",component:Q}),r.a.createElement(l.b,{path:"/ranking",component:te}),r.a.createElement(l.b,{path:"/feedback",component:$})))}var ne=a(18),re=a(36),ce=a(37),oe=a(8),ie={name:"",assertions:0,score:0,gravatarEmail:"",requestAPI:!0,type:"any",diff:"any",category:"any"},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_API":return Object(oe.a)(Object(oe.a)({},e),{},{requestAPI:!0});case"REQUEST_SUCSSES":return Object(oe.a)(Object(oe.a)({},e),{},{questions:t.questions,score:0,randomArray:t.randomArray,requestAPI:!1,requestState:t.requestState});case"ADD_POINTS_SCORE":return Object(oe.a)(Object(oe.a)({},e),{},{score:t.points});case"ADD_ASSERTIONS":return Object(oe.a)(Object(oe.a)({},e),{},{assertions:t.assertions});case"SET_SETTINGS":return Object(oe.a)(Object(oe.a)({},e),{},{type:t.obj.type,diff:t.obj.diff,category:t.obj.category});default:return e}},le={name:"",assertions:0,gravatarEmail:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(oe.a)(Object(oe.a)({},e),{},{assertions:0,name:t.state.name,gravatarEmail:t.state.email});case"COUNT_ASSERTIONS":return Object(oe.a)(Object(oe.a)({},e),{},{assertions:e.assertions+1});default:return e}},me=Object(ne.combineReducers)({player:se,loginReducer:ue}),pe=Object(ne.legacy_createStore)(me,Object(re.composeWithDevTools)(Object(ne.applyMiddleware)(ce.a)));window.Cypress&&(window.store=pe);var de=pe;o.a.render(r.a.createElement(s.a,null,r.a.createElement(i.a,{store:de},r.a.createElement(ae,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8baf3845.chunk.js.map